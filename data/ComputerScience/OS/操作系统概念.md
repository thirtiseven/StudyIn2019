[TOC]

# 第1章 导论

##1.1

计算机系统粗分为四个组件：硬件、操作系统、应用程序和用户。

在系统视角，可将操作系统看作资源分配器。

内核：一个一直运行在计算机上的程序。

中间件：移动操作系统中为应用程序开发人员提供其他功能的软件框架。

##1.2

系统进程：除了内核之外，系统程序提供的一些服务，在启动时加到内存，生命周期与内核一样。

中断：事件发生。硬件通过系统总线发送信号，软件可通过执行特别操作即系统调用来触发中断。

ROM：只读内存

EEPROM：电可擦可编程只读内存

RAM：随机访问内存

DRAM：动态随机访问内存

## 1.3

体系结构：单处理器结构，多处理器结构，集群结构

## 1.4

多道程序设计通过安排作业（编码与数据）使得CPU总有一个执行作业。

分时系统是多道程序设计的自然延伸。

## 1.5

双重模式：用户模式和内核模式。

## 1.6

进程：执行的程序称为进程。

程序是个被动实体，进程是个主动实体。

## 1.7

内存是一个大的字节数组，一般是CPU所能直接寻址和访问的。

## 1.8

文件系统管理、大容量存储器管理、高速缓存管理、I/O系统。

## 1.9

保护：是一种机制，用于控制进程或用户访问计算机系统的资源。这种机制必须提供手段。

## 1.10

内核常用数据结构：列表、堆栈、队列、树、哈希函数与哈希表、位图

## 1.11

计算环境：传统计算、移动计算、移动计算、分布计算、客户机-服务器计算（C-S）、对等计算(P2P)、虚拟化、云计算、实时嵌入式系统。

## 1.12

开源操作系统：Linux、BSD UNIX、Solaris



#第2章 操作系统结构

##2.1
操作系统的服务：用户界面、程序执行、I/O操作、文件系统操作、通信、错误检测、资源分配、记账、保护与安全

##2.2
用户与操作系统的界面：命令解释程序、图形用户界面

##2.3
系统调用提供操作系统服务接口。
API：应用编程接口

##2.4
系统调用的类型：进程控制、文件管理、设备管理、信息维护、通信、保护

##2.5
系统程序：文件管理、状态信息、文件修改、程序语言支持、程序加载与执行、通信、后台服务

##2.6
机制和策略的分离：机制“如何做”，策略“做什么”

##2.7
操作系统的结构：简单结构、分层方法、微内核、模块、混合系统。

##2.8
DTrace 动态探测正在运行的系统，包括用户进程和内核

# 第3章 进程

## 3.1

进程是执行的程序，包括文本段（或代码段）、程序计数器、堆栈、数据段、堆。

程序是被动实体，进程是活动实体。

进程状态：新的、运行、等待、就绪、终止

PCB：进程控制块

PCB包含的信息：进程状态，程序计数器，CPU寄存器，CPU调度信息，内存管理信息，记账信息，I/O状态信息

线程是操作系统能够进行运算调度的最小单位。它被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。

## 3.2

多道程序的目标：最大化CPU利用率

长期调度程序：从该池中选择进程，加到内存以便执行。作业调度程序

短期调度程序：从准备执行的进程中选择进程，并分配CPU。CPU调度程序

通常，大多数进程可分为：I/O为主或CPU为主

中期调度程序：有的系统引入，核心思想是可将进程从内存/CPU竞争中移出，之后可被重新调入内存。

上下文切换：切换CPU到另一个进程需要保存当前进程状态和恢复另一个进程的状态。

## 3.3

对进程的识别：进程标识符(pid)

## 3.4

进程间通信的两种基本模型：共享内存和消息传递

共享内存：缓冲区

消息传递：send receive原语

## 3.6

套接字：通过网络通信的每对进程需要使用一对套接字。每个套接字由一个IP地址和一个端口号组成

远程过程调用：PRC

管道：普通管道，命名管道

## 

# 第4章 多线程编程

## 4.1

多线程编程的优点：响应性、资源共享、经济、可伸缩性

## 4.2

并行和并发的区别：并行系统可以同时执行多个任务，并发系统支持多个任务，允许所有任务都能取得进展。没有并行，并发也是可能的(CPU调度器)

多核系统编程的挑战：识别任务，平衡，数据分割，数据依赖，测试与调试。

并行类型：数据并行和任务并行

## 4.3

两种不同的形式实现线程支持：用户线程和内核线程

用户线程和内核线程的关系：多对一，一对一，一对多

## 4.6

系统调用 fork 和 exec



# 第5章 进程调度

## 5.1

调度的四种情况：（进程）运行到等待，运行到就绪，等待到就绪，终止

如果只能发生1和4，则调度方案是非抢占的，否则是抢占的。

## 5.2

调度准则：CPU使用率，吞吐量，周转时间，等待时间，响应时间。

## 5.3

1. FCFS： 非抢占的

2. SJF： 对于给定的一组进程，SJF的平均等待时间最小

   可以是抢占的或非抢占的，抢占的又叫最短剩余时间优先

3. 优先级调度： SJF是优先级调度的特例

   可以是抢占的或非抢占的

   主要问题：阻塞或饥饿（稳定的高优先级进程）解决方法：老化 逐渐增加等待时间长的进程的优先级

4. 轮转调度：RR 平均等待时间最长

5. 多级队列调度：每个队列有着自己的调度算法 队列固定

6. 多级反馈队列：允许进程在队列中迁移



## 5.5

多处理器调度的方法：非对称多处理 对称多处理

处理器亲和性：进程对它运行的处理器具有亲和性，系统试图避免进程从一个处理器移到另一个处理器

负载平衡：推迁移，拉迁移



## 5.6

实时CPU调度：

最小化延迟

优先级调度

单调速率调度：抢占 静态优先级 周期越短优先级越高

最早截止期限优先调度

比例分享调度：在所有应用之间分配T股，应用被确保有N/T的总的处理器时间



## 5.8

确定性模型

排队模型

Little公式 $n=\lambda \times W$ W 平均等待时间 $\lambda$ 新进程到达队列的平均到达率 n为队列长度



